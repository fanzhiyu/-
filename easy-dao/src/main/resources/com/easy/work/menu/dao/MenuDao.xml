<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.easy.work.menu.dao.MenuDao">
  <resultMap id="BaseResultMap" type="com.easy.work.menu.domain.MenuDomain">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jun 28 08:34:38 CST 2018.
    -->
    <id column="MENU_ID" jdbcType="VARCHAR" property="menuId" />
    <result column="PARENT_ID" jdbcType="VARCHAR" property="parentId" />
    <result column="MENU_CODE" jdbcType="VARCHAR" property="menuCode" />
    <result column="MENU_NAME" jdbcType="VARCHAR" property="menuName" />
    <result column="MENU_ICON" jdbcType="VARCHAR" property="menuIcon" />
    <result column="MENU_REMARK" jdbcType="VARCHAR" property="menuRemark" />
    <result column="MENU_STATUS" jdbcType="CHAR" property="menuStatus" />
    <result column="MENU_URL" jdbcType="VARCHAR" property="menuUrl" />
    <result column="MENU_TYPE" jdbcType="CHAR" property="menuType" />
    <result column="MENU_RANGE" jdbcType="CHAR" property="menuRange" />
    <result column="MENU_SEQ" jdbcType="VARCHAR" property="menuSeq" />
    <result column="CREATER" jdbcType="VARCHAR" property="creater" />
    <result column="CREATE_TIME" jdbcType="TIMESTAMP" property="createTime" />
    <result column="UPDATER" jdbcType="VARCHAR" property="updater" />
    <result column="UPDATE_TIME" jdbcType="TIMESTAMP" property="updateTime" />
  </resultMap>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jun 28 08:34:38 CST 2018.
    -->
    MENU_ID, PARENT_ID, MENU_CODE, MENU_NAME, MENU_ICON, MENU_REMARK, MENU_STATUS, MENU_URL,
    MENU_TYPE, MENU_RANGE, MENU_SEQ, CREATER, CREATE_TIME, UPDATER, UPDATE_TIME
  </sql>
  <select id="findCondition" parameterType="java.lang.String" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jun 28 08:34:38 CST 2018.
    -->
    select 
    <include refid="Base_Column_List" />
    from SYS_MENU
    where MENU_ID = #{menuId,jdbcType=VARCHAR}
  </select>
  <select id="findListCondition" parameterType="com.easy.work.menu.domain.MenuDomain" resultType="com.easy.work.menu.domain.MenuDomain">
    SELECT
      A.MENU_ID AS menuId,
      A.MENU_CODE AS menuCode,
      A.MENU_NAME AS menuName,
      A.MENU_ICON AS menuIcon,
      A.MENU_REMARK AS menuRemark,
      A.MENU_URL AS menuUrl,
      A.PARENT_ID AS parentId,
      A.MENU_REMARK AS menuRemark,
      A.MENU_TYPE AS menuType,
      A.MENU_STATUS AS menuStatus,
      A.CREATE_TIME AS createTime,
      C.USER_NAME AS createUser
    FROM
      SYS_MENU A
    LEFT JOIN SYS_ORG_MENU B ON(A.MENU_ID=B.MENU_ID)
    LEFT JOIN SYS_USER C ON(A.CREATER = C.USER_CODE)
    LEFT JOIN SYS_ROLE_MENU D ON(A.MENU_ID=D.MENU_ID)
    <where>
      1=1
      <if test="parentId != null and parentId != ''">
        and A.PARENT_ID = #{parentId,jdbcType=VARCHAR}
      </if>
      <if test="orgId != null and orgId !=''">
        and B.ORG_ID = #{orgId,jdbcType=VARCHAR}
      </if>
      <if test="menuStatus != null and menuStatus != ''">
        and A.MENU_STATUS = #{menuStatus,jdbcType=VARCHAR}
      </if>
      <if test="roleIds != null and roleIds != ''">
        and D.ROLE_ID in
        <foreach collection="roleIds" index="index" item="roleId" open="(" separator="," close=")">
           #{roleId}
        </foreach>
      </if>
      <if test="creater != null and creater != ''">
        and A.CREATER = #{creater,jdbcType=VARCHAR}
      </if>
      GROUP BY A.MENU_ID
    </where>
  </select>
  <delete id="delete" parameterType="java.lang.String">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jun 28 08:34:38 CST 2018.
    -->
    delete from SYS_MENU
    where MENU_ID = #{menuId,jdbcType=VARCHAR}
  </delete>
  <insert id="insert" parameterType="com.easy.work.menu.domain.MenuDomain">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jun 28 08:34:38 CST 2018.
    -->
    insert into SYS_MENU (MENU_ID, PARENT_ID, MENU_CODE,
      MENU_NAME, MENU_ICON, MENU_REMARK, 
      MENU_STATUS, MENU_URL, MENU_TYPE, 
      MENU_RANGE, MENU_SEQ, CREATER, 
      CREATE_TIME, UPDATER, UPDATE_TIME
      )
    values (#{menuId,jdbcType=VARCHAR}, #{parentId,jdbcType=VARCHAR}, #{menuCode,jdbcType=VARCHAR},
      #{menuName,jdbcType=VARCHAR}, #{menuIcon,jdbcType=VARCHAR}, #{menuRemark,jdbcType=VARCHAR}, 
      #{menuStatus,jdbcType=CHAR}, #{menuUrl,jdbcType=VARCHAR}, #{menuType,jdbcType=CHAR}, 
      #{menuRange,jdbcType=CHAR}, #{menuSeq,jdbcType=VARCHAR}, #{creater,jdbcType=VARCHAR}, 
      #{createTime,jdbcType=TIMESTAMP}, #{updater,jdbcType=VARCHAR}, #{updateTime,jdbcType=TIMESTAMP}
      )
  </insert>
  <insert id="insertSelective" parameterType="com.easy.work.menu.domain.MenuDomain">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jun 28 08:34:38 CST 2018.
    -->
    insert into SYS_MENU
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="menuId != null">
        MENU_ID,
      </if>
      <if test="parentId != null">
        PARENT_ID,
      </if>
      <if test="menuCode != null">
        MENU_CODE,
      </if>
      <if test="menuName != null">
        MENU_NAME,
      </if>
      <if test="menuIcon != null">
        MENU_ICON,
      </if>
      <if test="menuRemark != null">
        MENU_REMARK,
      </if>
      <if test="menuStatus != null">
        MENU_STATUS,
      </if>
      <if test="menuUrl != null">
        MENU_URL,
      </if>
      <if test="menuType != null">
        MENU_TYPE,
      </if>
      <if test="menuRange != null">
        MENU_RANGE,
      </if>
      <if test="menuSeq != null">
        MENU_SEQ,
      </if>
      <if test="creater != null">
        CREATER,
      </if>
      <if test="createTime != null">
        CREATE_TIME,
      </if>
      <if test="updater != null">
        UPDATER,
      </if>
      <if test="updateTime != null">
        UPDATE_TIME,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="menuId != null">
        #{menuId,jdbcType=VARCHAR},
      </if>
      <if test="parentId != null">
        #{parentId,jdbcType=VARCHAR},
      </if>
      <if test="menuCode != null">
        #{menuCode,jdbcType=VARCHAR},
      </if>
      <if test="menuName != null">
        #{menuName,jdbcType=VARCHAR},
      </if>
      <if test="menuIcon != null">
        #{menuIcon,jdbcType=VARCHAR},
      </if>
      <if test="menuRemark != null">
        #{menuRemark,jdbcType=VARCHAR},
      </if>
      <if test="menuStatus != null">
        #{menuStatus,jdbcType=CHAR},
      </if>
      <if test="menuUrl != null">
        #{menuUrl,jdbcType=VARCHAR},
      </if>
      <if test="menuType != null">
        #{menuType,jdbcType=CHAR},
      </if>
      <if test="menuRange != null">
        #{menuRange,jdbcType=CHAR},
      </if>
      <if test="menuSeq != null">
        #{menuSeq,jdbcType=VARCHAR},
      </if>
      <if test="creater != null">
        #{creater,jdbcType=VARCHAR},
      </if>
      <if test="createTime != null">
        #{createTime,jdbcType=TIMESTAMP},
      </if>
      <if test="updater != null">
        #{updater,jdbcType=VARCHAR},
      </if>
      <if test="updateTime != null">
        #{updateTime,jdbcType=TIMESTAMP},
      </if>
    </trim>
  </insert>
  <update id="update" parameterType="com.easy.work.menu.domain.MenuDomain">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jun 28 08:34:38 CST 2018.
    -->
    update SYS_MENU
    <set>
      <if test="parentId != null">
        PARENT_ID = #{parentId,jdbcType=VARCHAR},
      </if>
      <if test="menuCode != null">
        MENU_CODE = #{menuCode,jdbcType=VARCHAR},
      </if>
      <if test="menuName != null">
        MENU_NAME = #{menuName,jdbcType=VARCHAR},
      </if>
      <if test="menuIcon != null">
        MENU_ICON = #{menuIcon,jdbcType=VARCHAR},
      </if>
      <if test="menuRemark != null">
        MENU_REMARK = #{menuRemark,jdbcType=VARCHAR},
      </if>
      <if test="menuStatus != null">
        MENU_STATUS = #{menuStatus,jdbcType=CHAR},
      </if>
      <if test="menuUrl != null">
        MENU_URL = #{menuUrl,jdbcType=VARCHAR},
      </if>
      <if test="menuType != null">
        MENU_TYPE = #{menuType,jdbcType=CHAR},
      </if>
      <if test="menuRange != null">
        MENU_RANGE = #{menuRange,jdbcType=CHAR},
      </if>
      <if test="menuSeq != null">
        MENU_SEQ = #{menuSeq,jdbcType=VARCHAR},
      </if>
      <if test="creater != null">
        CREATER = #{creater,jdbcType=VARCHAR},
      </if>
      <if test="createTime != null">
        CREATE_TIME = #{createTime,jdbcType=TIMESTAMP},
      </if>
      <if test="updater != null">
        UPDATER = #{updater,jdbcType=VARCHAR},
      </if>
      <if test="updateTime != null">
        UPDATE_TIME = #{updateTime,jdbcType=TIMESTAMP},
      </if>
    </set>
    where MENU_ID = #{menuId,jdbcType=VARCHAR}
  </update>
</mapper>